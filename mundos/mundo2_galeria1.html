<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mundo J84 - Zonas 11 [01/10/2025, 07:14:00]</title>
  <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; font-family: Arial, sans-serif; }
    #ui {
      position: fixed;
      bottom: 20px;
      width: 100%;
      text-align: center;
      color: white;
      background: rgba(0,0,0,0.5);
      padding: 10px;
      z-index: 999;
      pointer-events: none;
    }
  </style>
</head>
<body>


  <a-scene
    cursor="rayOrigin: mouse"
    vr-mode-ui="enabled: true"
  >
    <!-- ðŸ“‹ ASSETS: PrÃ©-carregamento de imagens -->
    <a-assets>
      <img id="obra-img" src="../obra1.jpg" crossorigin="anonymous"/>
      <img id="fundo-img" src="../fundo_mundo01.jpg" crossorigin="anonymous"/>
      <img id="obra2-img" src="../obra2.jpg" crossorigin="anonymous"/>
    </a-assets>
    
    <!-- ðŸŒ† FUNDO 360Â° -->
    <a-sky src="#fundo-img"></a-sky>

    <!-- ðŸ”´ Esfera para voltar Ã  AR -->
    <a-sphere
      class="clickable-back"
      position="-2 1.5 -3"
      radius="0.4"
      color="#FF5252"
      animation="property: position; to: -2 1.7 -3; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate"
    >
      <a-entity
        position="0 0.6 0"
        text="value: â†©ï¸\nVOLTAR AR; align: center; color: white; width: 3"
        scale="1.2 1.2 1.2"
      ></a-entity>
    </a-sphere>

    <!-- ðŸ–¼ï¸ OBRA 1 - Icosaedro TridiminuÃ­do -->
    <a-plane
      class="clickable-obra1"
      position="2 1.5 -3"
      width="1.5"
      height="1"
      rotation="0 0 0"
      animation__rotacao="property: rotation; to: 0 15 0; dur: 3000; easing: easeInOutSine; loop: true; dir: alternate"
      animation__translacao="property: position; to: 2 1.8 -3; dur: 2500; easing: easeInOutQuad; loop: true; dir: alternate"
      animation__escala="property: scale; to: 1.1 1.1 1.1; dur: 2000; easing: easeInOutElastic; loop: true; dir: alternate"
      material="src: #obra-img; shader: flat; side: double;"
    ></a-plane>

    <!-- ðŸ–¼ï¸ OBRA 2 - Detalhe -->
    <a-plane
      class="clickable-obra2"
      position="-4 1.5 -3"
      width="1.2"
      height="0.8"
      rotation="0 45 0"
      animation__rotacao="property: rotation; to: 0 60 0; dur: 3500; easing: easeInOutSine; loop: true; dir: alternate"
      animation__translacao="property: position; to: -4 1.7 -3; dur: 2200; easing: easeInOutQuad; loop: true; dir: alternate"
      animation__escala="property: scale; to: 0.9 0.9 0.9; dur: 1800; easing: easeInOutElastic; loop: true; dir: alternate"
      material="src: #obra2-img; shader: flat; side: double;"
    ></a-plane>



    <!-- ðŸ‘ï¸ CÃ¢mera -->
    <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
  </a-scene>

  <script>
    AFRAME.registerComponent('redirect-on-click', {
      schema: { url: { type: 'string', default: '#' } },
      init: function () {
        const el = this.el;
        const url = this.data.url;

        el.addEventListener('click', () => {
          el.setAttribute('scale', '1.2 1.2 1.2');
          setTimeout(() => {
            window.location.href = url;
          }, 300);
        });
      }
    });

    document.addEventListener('DOMContentLoaded', () => {
      const sphere = document.querySelector('.clickable-back');
      if (sphere) {
        sphere.setAttribute('redirect-on-click', {
          url: 'https://rodrigorez.github.io/aulaVRAR/import/galerias/galeria1.html'
        });
      }

      // âœ… OBRA 1 - Clique para ver ficha tÃ©cnica
      const obra1 = document.querySelector('.clickable-obra1');
      if (obra1) {
        obra1.setAttribute('redirect-on-click', {
          url: '../obras/obra1_mundo1.html'
        });
      }

      // âœ… OBRA 2 - Clique para ver ficha tÃ©cnica
      const obra2 = document.querySelector('.clickable-obra2');
      if (obra2) {
        obra2.setAttribute('redirect-on-click', {
          url: '../obras/obra2_mundo1.html'
        });
      }

    });
  </script>
</body>
</html>