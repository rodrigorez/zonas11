<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zonas 11 - VR Mundo 3 (V2.7)</title>
    <script src="https://aframe.io/releases/1.7.0/aframe.min.js"></script>
    <style>
      body { margin: 0; overflow: hidden; font-family: Arial, sans-serif; }
    </style>
  </head>
  <body>
    <a-scene
      cursor="rayOrigin: mouse"
      vr-mode-ui="enabled: true"
    >
      <!-- 🖼️ FUNDO 360° -->
      <a-sky src="https://rodrigorez.github.io/zonas11/galerias/assets/img/fundo_mundo02.jpg"></a-sky>

      <!-- 🔴 ESFERA VOLTAR -->
      <a-sphere
        class="clickable-back"
        position="0 1.6 -4"
        radius="0.4"
        color="#9C27B0"
        animation__float="property: position; to: 0 2.2 -4; dur: 2000; easing: easeInOutSine; loop: true; dir: alternate"
        animation__rotate="property: rotation; to: 0 360 0; dur: 7500; easing: linear; loop: true"
      >
        <a-entity
          position="0 0.6 0"
          text="value: ↩️\nVOLTAR; align: center; color: white; width: 3"
          scale="1.2 1.2 1.2"
        ></a-entity>
      </a-sphere>

      <!-- 🖼️ GALERIA CIRCULAR - MUNDO 4 -->
      <a-plane class="clickable-image obra1" position="2.83 1.6 -2.83" width="1.2" height="0.8" rotation="0 45 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/22.jpg); side: double;" animation__float="property: position; to: 2.83 2.3 -2.83; dur: 3100; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: 0 60 8; dur: 4100; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>
      <a-plane class="clickable-image obra2" position="4 1.6 0" width="1.2" height="0.8" rotation="0 90 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/23.jpg); side: double;" animation__float="property: position; to: 4 2.4 0; dur: 3300; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: 8 105 0; dur: 4300; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>
      <a-plane class="clickable-image obra3" position="2.83 1.6 2.83" width="1.2" height="0.8" rotation="0 135 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/24.png); side: double;" animation__float="property: position; to: 2.83 2.6 2.83; dur: 2900; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: -8 150 -8; dur: 3900; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>
      <a-plane class="clickable-image obra4" position="0 1.6 4" width="1.2" height="0.8" rotation="0 180 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/25.jpg); side: double;" animation__float="property: position; to: 0 2.0 4; dur: 3500; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: 0 195 8; dur: 4500; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>
      <a-plane class="clickable-image obra5" position="-2.83 1.6 2.83" width="1.2" height="0.8" rotation="0 225 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/26.jpg); side: double;" animation__float="property: position; to: -2.83 2.7 2.83; dur: 3700; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: 8 240 0; dur: 3700; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>
      <a-plane class="clickable-image obra6" position="-4 1.6 0" width="1.2" height="0.8" rotation="0 270 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/27.jpg); side: double;" animation__float="property: position; to: -4 2.1 0; dur: 2700; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: -8 285 -8; dur: 4700; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>
      <a-plane class="clickable-image obra7" position="-2.83 1.6 -2.83" width="1.2" height="0.8" rotation="0 315 0" material="src: url(https://rodrigorez.github.io/zonas11/galerias/assets/img/28.jpg); side: double;" animation__float="property: position; to: -2.83 2.5 -2.83; dur: 3900; easing: easeInOutSine; loop: true; dir: alternate" animation__swing="property: rotation; to: 0 330 8; dur: 4900; easing: easeInOutSine; loop: true; dir: alternate"></a-plane>

      <a-entity camera look-controls wasd-controls position="0 1.6 0"></a-entity>
    </a-scene>

    <script>
      AFRAME.registerComponent('redirect-on-click', {
        schema: { url: { type: 'string', default: '#' } },
        init: function () {
          const el = this.el;
          const url = this.data.url;
          el.addEventListener('click', () => {
            el.setAttribute('scale', '1.2 1.2 1.2');
            setTimeout(() => { window.location.href = url; }, 300);
          });
        }
      });

      document.addEventListener('DOMContentLoaded', () => {
        const backSphere = document.querySelector('.clickable-back');
        if (backSphere) {
          backSphere.setAttribute('redirect-on-click', {
            url: 'https://rodrigorez.github.io/zonas11/galerias/galeria.html'
          });
        }
        for (let i = 1; i <= 7; i++) {
          const obra = document.querySelector(`.obra${i}`);
          if (obra) {
            obra.setAttribute('redirect-on-click', {
              url: `https://rodrigorez.github.io/zonas11/galerias/obra${i + 21}.html`
            });
          }
        }
      });
    </script>
  </body>
</html>