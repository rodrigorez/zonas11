<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ficha T√©cnica - Ad infinitum</title>
    <style>
      :root { --padding: 4vw; --border-radius: 12px; }
      * { box-sizing: border-box; margin: 0; padding: 0; }
      body { font-family: Arial, sans-serif; background: #000; color: white; display: flex; flex-direction: column; align-items: center; min-height: 100vh; line-height: 1.6; }
      .container { width: clamp(320px, 90vw, 800px); display: flex; flex-direction: column; gap: 2vw; padding: 4vw 2vw; }
      .linha { padding: var(--padding); background: #1a1a1a; border-radius: var(--border-radius); text-align: center; }
      .exposicao { font-size: clamp(1.3rem, 4vw, 1.8rem); font-weight: bold; }
      .botao-voltar { background: #FF5722; border: none; border-radius: 50px; cursor: pointer; font-size: clamp(1rem, 3vw, 1.2rem); font-weight: bold; color: white; width: 100%; padding: 1.5em 1em; }
      .video iframe { width: 100%; aspect-ratio: 16/9; border: none; border-radius: var(--border-radius); }
      .titulo { font-size: clamp(1.2rem, 3.5vw, 1.6rem); font-weight: bold; }
      .autor { font-size: clamp(1rem, 3vw, 1.3rem); font-weight: 500; }
      .sinopse { font-size: clamp(0.9rem, 2.5vw, 1.1rem); text-align: justify; line-height: 1.7; text-indent: 2em; }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="linha exposicao">Zonas 11</div>
      <button class="botao-voltar" onclick="window.location.href='https://rodrigorez.github.io/zonas11/galerias/index6.html'">‚Ü©Ô∏è Voltar para a Realidade Virtual</button>
      <div class="linha video" id="video-container" data-url="https://editor.p5js.org/AUREA_munoz/full/UVSkYIrDf"></div>
      <div class="linha titulo">Ad infinitum</div>
      <div class="linha autor">√Åurea Mu√±oz del Amo</div>
      <div class="linha sinopse">Esta pe√ßa generativa transforma o c√≥digo em um portal para um novo espa√ßo perceptivo. Linhas vetoriais atravessam o plano e abrem fissuras que nos convidam a adentrar outra dimens√£o. A repeti√ß√£o nebulosa em torno da esfera central cria imers√£o e loops visuais que expandem o vis√≠vel. Oscilando entre o geom√©trico e o org√¢nico, a obra fragmenta o s√≥lido e abre m√∫ltiplas trajet√≥rias em dire√ß√£o a mundos imagin√°rios.</div>
      <button class="botao-voltar" onclick="window.location.href='https://rodrigorez.github.io/zonas11/galerias/index6.html'">‚Ü©Ô∏è Voltar para a Realidade Virtual</button>
    </div>
    <script src="assets/js/platform-detector.js" onerror="loadPlatformDetectorFallback()"></script>
    <script>
      // üö® FALLBACK PARA PLATFORM DETECTOR (caso arquivo externo falhe)
      function loadPlatformDetectorFallback() {
        console.warn('‚ö†Ô∏è Arquivo platform-detector.js n√£o encontrado, carregando fallback inline');
        
        class PlatformDetector {
          constructor() {
            this.platforms = {
              youtube: {
                patterns: [/youtu\.be\/([^?]+)/, /youtube\.com\/watch\?v=([^&]+)/, /youtube\.com\/embed\/([^?]+)/],
                embed: (id) => `https://www.youtube.com/embed/${id}?controls=1&autoplay=1`,
                allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",
                allowfullscreen: true
              },
              p5js: {
                patterns: [/editor\.p5js\.org\/.*\/full\/([^?]+)/],
                embed: (url) => url,
                allow: "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",
                allowfullscreen: true
              }
            };
          }

          detectPlatform(url) {
            for (const [platform, config] of Object.entries(this.platforms)) {
              for (const pattern of config.patterns) {
                const match = url.match(pattern);
                if (match) return { platform, config, match };
              }
            }
            return { platform: 'youtube', config: this.platforms.youtube, match: null };
          }

          generateIframe(url, title) {
            const detection = this.detectPlatform(url);
            const { platform, config, match } = detection;
            
            let src = platform === 'youtube' && match ? config.embed(match[1]) : 
                     platform === 'p5js' ? config.embed(url) : url;

            return `<iframe src="${src}" allow="${config.allow}" ${config.allowfullscreen ? 'allowfullscreen' : ''} title="${title}" loading="lazy"></iframe>`;
          }
        }

        // Inicializar automaticamente
        const detector = new PlatformDetector();
        const container = document.getElementById('video-container');
        if (container) {
          const url = container.dataset.url;
          const title = document.querySelector('.titulo')?.textContent || 'Obra de Arte';
          container.innerHTML = detector.generateIframe(url, title);
          console.log('‚úÖ Platform Detector Fallback carregado com sucesso');
        }
      }
    </script>
  </body>
</html>